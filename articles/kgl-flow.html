<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kaggle Flow • kaggler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Kaggle Flow">
<meta property="og:description" content="kaggler">
<meta property="og:image" content="https://koderkow.github.io/kaggler/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">kaggler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/kaggler.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/kgl-flow.html">Kaggle Flow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/KoderKow/kaggler/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="kgl-flow_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Kaggle Flow</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KoderKow/kaggler/blob/master/vignettes/kgl-flow.Rmd"><code>vignettes/kgl-flow.Rmd</code></a></small>
      <div class="hidden name"><code>kgl-flow.Rmd</code></div>

    </div>

    
    
<div id="kaggle-flow" class="section level1">
<h1 class="hasAnchor">
<a href="#kaggle-flow" class="anchor"></a>Kaggle Flow</h1>
<p>This is an <strong>experimental</strong> and <strong>opinionated</strong> reproducible workflow for working with Kaggle competitions. The Kaggle Flow will always check if the competition rules are accepted and the data files for the competition are readily available. If they are not, they will be downloaded.</p>
<div id="id-input" class="section level2">
<h2 class="hasAnchor">
<a href="#id-input" class="anchor"></a>ID input</h2>
<p>Find the competition you want to work on. Methods have been built out to accept multiple forms of <code>id</code>. The follow examples below will be using the <code>titanic</code> competition to show the example inputs.</p>
<ol style="list-style-type: decimal">
<li>The competition URL
<ul>
<li>
<code>https://www.kaggle.com/c/titanic</code> and <code>https://www.kaggle.com/c/titanic/code</code> will recognize <code>titanic</code> as the ID</li>
<li>Anything after <code>https://www.kaggle.com/c/</code> and before the next forward slash, if it exists</li>
</ul>
</li>
<li>Kaggle’s API command
<ul>
<li>Kaggles official API is built in python and they supply a command to download the data on the data tab of a competition. The download functions will take <code>kaggle competitions download -c titanic</code>and recognize the ID as <code>titanic</code>
</li>
</ul>
</li>
<li>Explicit ID
<ul>
<li>If the above two cases don’t match in the logic then everything else will be considered an ID</li>
<li>Example; entering <code>titanic</code> directly</li>
</ul>
</li>
</ol>
</div>
<div id="example-work-flow" class="section level2">
<h2 class="hasAnchor">
<a href="#example-work-flow" class="anchor"></a>Example Work Flow</h2>
<p>The flow will always check if the user has accepted the rules to the competition. If the rules have not been accepted, a prompt will be shown notifying the user of the error and an input to take the user to the competitions rules.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://koderkow.github.io/kaggler">kaggler</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/kgl_flow.html">kgl_flow</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"tabular-playground-series-jun-2021"</span><span class="op">)</span>

<span class="co">#&gt; x You must accept this competition's rules before you'll be able to download files.</span>
<span class="co">#&gt; Would you like to visit 'https://www.kaggle.com/c/tabular-playground-series-jun-2021/rules' to  accept the rules?</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; 1: Nope</span>
<span class="co">#&gt; 2: Yup</span>
<span class="co">#&gt; 3: No way</span></code></pre></div>
<p>Now lets switch to a different project and a competition my account has accepted the rules for. Running <code><a href="../reference/kgl_flow.html">kgl_flow()</a></code> will download all the files I need and also store some metadata to keep track of the competition ID and information about the competitions data files.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/kgl_flow.html">kgl_flow</a></span><span class="op">(</span><span class="st">"titanic"</span><span class="op">)</span>

<span class="co">#&gt; • These files will be downloaded:</span>
<span class="co">#&gt;   - 'gender_submission'</span>
<span class="co">#&gt;   - 'test'</span>
<span class="co">#&gt;   - 'train'.</span>
<span class="co">#&gt; • Downloading 'gender_submission.csv'...</span>
<span class="co">#&gt; • Downloading 'test.csv'...</span>
<span class="co">#&gt; • Downloading 'train.csv'...</span></code></pre></div>
<p>The files have been saved into a new directory; <code>_kaggle_data</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/dir_ls.html">dir_ls</a></span><span class="op">(</span><span class="st">"_kaggle_data/"</span><span class="op">)</span>

<span class="co">#&gt; _kaggle_data/gender_submission.csv</span>
<span class="co">#&gt; _kaggle_data/meta</span>
<span class="co">#&gt; _kaggle_data/test.csv</span>
<span class="co">#&gt; _kaggle_data/train.csv</span></code></pre></div>
<p>We can get some information about our competition data by looking at the metadata.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/kgl_flow_meta.html">kgl_flow_meta</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#&gt; ℹ Competition ID: 'titanic'</span>
<span class="co">#&gt; # A tibble: 3 x 10</span>
<span class="co">#&gt;   id     ref      name    description                total_bytes url      creation_date       download_time       nrows ncols</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;                            &lt;int&gt; &lt;chr&gt;   &lt;dttm&gt;              &lt;dttm&gt;              &lt;int&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1 titan… gender_… gender… "An example of what a sub…        3258 https:… 2018-04-09 05:33:22 2021-08-26 16:19:50   418     2</span>
<span class="co">#&gt; 2 titan… test.csv test.c… "test data to check the a…       28629 https:… 2018-04-09 05:33:22 2021-08-26 16:19:51   418    11</span>
<span class="co">#&gt; 3 titan… train.c… train.… "contains data "                 61194 https:… 2018-04-09 05:33:22 2021-08-26 16:19:52   891    12</span></code></pre></div>
<p>We can also look at the competition information that is returned by the Kaggle API.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/kgl_flow_competition_info.html">kgl_flow_competition_info</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#&gt; # A tibble: 1 × 23</span>
<span class="co">#&gt;      id ref     title url   description organization_na… organization_ref category</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;   </span>
<span class="co">#&gt; 1  3136 titanic Tita… http… Start here… Kaggle           kaggle           Getting…</span>
<span class="co">#&gt; # … with 15 more variables: reward &lt;chr&gt;, deadline &lt;dttm&gt;, kernel_count &lt;int&gt;,</span>
<span class="co">#&gt; #   team_count &lt;int&gt;, user_has_entered &lt;lgl&gt;, user_rank &lt;lgl&gt;,</span>
<span class="co">#&gt; #   merger_deadline &lt;dttm&gt;, new_entrant_deadline &lt;dttm&gt;, enabled_date &lt;dttm&gt;,</span>
<span class="co">#&gt; #   max_daily_submissions &lt;int&gt;, max_team_size &lt;lgl&gt;, evaluation_metric &lt;chr&gt;,</span>
<span class="co">#&gt; #   awards_points &lt;lgl&gt;, is_kernels_submissions_only &lt;lgl&gt;,</span>
<span class="co">#&gt; #   submissions_disabled &lt;lgl&gt;</span></code></pre></div>
<p>If the competitions data is all in csv format, then they can easily be loaded in.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/kgl_flow_load.html">kgl_flow_load</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#&gt; ℹ Competition ID: 'titanic'</span>
<span class="co">#&gt; ✓ The data has been loaded into the global environment!</span>
<span class="co">#&gt;   - 'gender_submission'</span>
<span class="co">#&gt;   - 'test'</span>
<span class="co">#&gt;   - 'train'</span></code></pre></div>
<p>In an unwanted situation where one of the files gets accidentily deleted, kgl_flow_load() will reference the metadata to make sure all files are available before loading them in.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/delete.html">file_delete</a></span><span class="op">(</span><span class="st">"_kaggle_data/train.csv"</span><span class="op">)</span>

<span class="fu"><a href="../reference/kgl_flow_load.html">kgl_flow_load</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; x There seem to be files missing! Run 'kgl_flow()' to make sure all files are present.</span></code></pre></div>
<p>As prompted, we can run <code><a href="../reference/kgl_flow.html">kgl_flow()</a></code> again to get the files back.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/kgl_flow.html">kgl_flow</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#&gt; ℹ These files are detected in '_kaggle_data/' and will not be downloaded:</span>
<span class="co">#&gt;   - 'gender_submission'</span>
<span class="co">#&gt;   - 'test'</span>
<span class="co">#&gt; ● These files will be downloaded:</span>
<span class="co">#&gt;   - 'train'.</span>
<span class="co">#&gt; ● Downloading 'train.csv'...</span></code></pre></div>
<p>We did not need to supply the <code>id</code> this time because the flow will check if an ID has been recorded in the metadata.</p>
<p>This has been heavily influenced by the <a href="https://github.com/ropensci/targets">{targets}</a> package. Any issues or ideas for improvements to this experimental flow is greatly appreciated!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Michael Wayne Kearney, Kyle Harris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
